<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">

        <title>Football tracker</title>
        <meta name="keywords" content="football, stats, analysing">
        <meta name="description" content="Explore and analyse a set of football match data.">

        <link href="http://fonts.googleapis.com/css?family=Voces" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/style.css">

        <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    </head>
    <body>

        <script type="text/x-handlebars">
            <header class="primary-nav">
                <img src="img/icon.png" width="64" height="64" alt="Football Tracker">

                <nav>
                    <ul>
                        <li>{{#linkTo 'matches'}}Matches{{/linkTo}}</li>
                        <li>{{#linkTo 'players'}}Players{{/linkTo}}</li>
                        <li>{{#linkTo 'stats'}}Stats{{/linkTo}}</li>
                    </ul>
                </nav>
            </header>

            <section class="content">
                {{outlet}}
            </section>
        </script>

        <script type="text/x-handlebars" data-template-name="matches">
            <nav class="match-nav">
                <ul>
                    {{#each arrangedContent}}
                    <li>
                        {{#linkTo 'match' this}}
                            <span class="match-date">{{fxdate date}}</span>
                            <span class="team-name-home">{{teams.0.name}}</span>
                            <span class="score">{{teams.0.score}} - {{teams.1.score}}</span>
                            <span class="team-name-away">{{teams.1.name}}</span>
                        {{/linkTo}}
                    </li>
                    {{/each}}
                </ul>
            </nav>

            <div class="match">
                {{outlet}}
            </div>
        </script>

        <script type="text/x-handlebars" data-template-name="match">
            <div class="match-team-home">
                <div class="match-teamname">{{teams.0.name}}</div>
                <div class="match-result-home">{{teams.0.score}}</div>
                <ul class="match-players">
                    {{#each player in teams.0.players}}
                    <li>{{player}}</li>
                    {{/each}}
                </ul>
            </div>
            <div class="match-team-away">
                <div class="match-teamname">{{teams.1.name}}</div>
                <div class="match-result-away">{{teams.1.score}}</div>
                <ul class="match-players">
                    {{#each player in teams.1.players}}
                    <li>{{player}}</li>
                    {{/each}}
                </ul>
            </div>
        </script>

        <script type="text/x-handlebars" data-template-name="players">
            <table>
                <tr>
                    <th>Name</th>
                    <th><span {{bindAttr class=":sort sortColumns.matches:active"}} {{action "sort" "matches"}}>Matches played</span></th>
                    <th><span {{bindAttr class=":sort sortColumns.wins:active"}} {{action "sort" "wins"}}>Wins</span></th>
                    <th><span {{bindAttr class=":sort sortColumns.draws:active"}} {{action "sort" "draws"}}>Draws</span></th>
                    <th><span {{bindAttr class=":sort sortColumns.losses:active"}} {{action "sort" "losses"}}>Losses</span></th>
                    <th><span {{bindAttr class=":sort sortColumns.points:active"}} {{action "sort" "points"}}>Points</span></th>
                    <th><span {{bindAttr class=":sort sortColumns.goalsFor:active"}} {{action "sort" "goalsFor"}}>Goals for</span></th>
                    <th><span {{bindAttr class=":sort sortColumns.goalsAgainst:active"}} {{action "sort" "goalsAgainst"}}>Goals against</span></th>
                    <th><span {{bindAttr class=":sort sortColumns.goalsDiff:active"}} {{action "sort" "goalsDiff"}}>Goals diff</span></th>
                    <th class="lastFiveResults">Last five results</th>
                </tr>
                {{#each arrangedContent}}
                <tr>
                    <td>{{name}}</td>
                    <td>{{matches}}</td>
                    <td>{{wins}}</td>
                    <td>{{draws}}</td>
                    <td>{{losses}}</td>
                    <td>{{points}}</td>
                    <td>{{goalsFor}}</td>
                    <td>{{goalsAgainst}}</td>
                    <td>{{goalsDiff}}</td>
                    <td class="lastFiveResults">
                        {{#each lastFiveResults}}
                            <span {{bindAttr class=":result this"}}><span>{{this}}</span></span>
                        {{/each}}
                    </td>
                </tr>
                {{/each}}
            </table>
        </script>

        <script type="text/x-handlebars" data-template-name="stats">
            <div class="stat">
                <div class="stat-label">Best goal diff:</div>
                <div class="stat-value">{{bestGoalDiff.name}} <span class="stat-value-detail">({{bestGoalDiff.goalsDiff}})</span></div>
            </div>
            <div class="stat">
                <div class="stat-label">Wost goal diff:</div>
                <div class="stat-value">{{worstGoalDiff.name}} <span class="stat-value-detail">({{worstGoalDiff.goalsDiff}})</span></div>
            </div>
        </script>

        <script src="js/libs/jquery-1.9.1.js"></script>
        <script src="js/libs/handlebars-1.0.0.js"></script>
        <script src="js/libs/ember-1.0.0.js"></script>
        <script src="js/libs/moment.js"></script>
        <script src="js/app.js"></script>
        <script src="matches.js"></script>
    </body>
</html>